"use strict";(self.webpackChunkfrontend_store=self.webpackChunkfrontend_store||[]).push([[40],{827:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(5043);const a="SearchBar_container__Vt2-E",s="SearchBar_searchGroup__JO3IX",i="SearchBar_searchIcon__D77Pm",l="SearchBar_input__kwp3g",c="SearchBar_clearButton__7zfCd";var o=r(2780),d=r(7399),u=r(579);const m=function(e){let{onSearch:t,debounceMs:r=400,initialValue:m=""}=e;const[h,p]=(0,n.useState)(m);return(0,n.useEffect)(()=>{const e=setTimeout(()=>{null===t||void 0===t||t(h.trim())},r);return()=>clearTimeout(e)},[h,r,t]),(0,u.jsx)("div",{className:a,children:(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)(o.h,{className:i,width:18,height:18}),(0,u.jsx)("input",{type:"text",placeholder:"Search products...",value:h,onChange:e=>{p(e.target.value)},className:l}),h&&(0,u.jsx)("button",{type:"button",onClick:()=>{p(""),null===t||void 0===t||t("")},className:c,children:(0,u.jsx)(d.h,{width:16,height:16})})]})})}},1055:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(5043);const a="FilterPanel_filterPanel__l2IqL",s="FilterPanel_filterInputs__XgQ+n",i="FilterPanel_input__9ChGg",l="FilterPanel_select__mUkoX",c="FilterPanel_buttonGroup__1DJbV",o="FilterPanel_button__Im77u";var d=r(579);const u=function(e){let{onFilterChange:t}=e;const[r,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[p,_]=(0,n.useState)(""),[v,g]=(0,n.useState)("createdAt:desc"),[x,f]=(0,n.useState)(10);return(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)("h3",{children:"Filters"}),(0,d.jsxs)("div",{className:s,children:[(0,d.jsx)("input",{className:i,type:"text",placeholder:"Category",value:r,onChange:e=>u(e.target.value)}),(0,d.jsx)("input",{className:i,type:"number",placeholder:"Min Price",value:m,onChange:e=>h(e.target.value)}),(0,d.jsx)("input",{className:i,type:"number",placeholder:"Max Price",value:p,onChange:e=>_(e.target.value)}),(0,d.jsxs)("select",{value:v,onChange:e=>g(e.target.value),className:l,children:[(0,d.jsx)("option",{value:"createdAt:desc",children:"Newest"}),(0,d.jsx)("option",{value:"createdAt:asc",children:"Oldest"}),(0,d.jsx)("option",{value:"price:asc",children:"Price Low \u2192 High"}),(0,d.jsx)("option",{value:"price:desc",children:"Price High \u2192 Low"})]}),(0,d.jsxs)("select",{value:x,onChange:e=>f(Number(e.target.value)),className:l,children:[(0,d.jsx)("option",{value:10,children:"10"}),(0,d.jsx)("option",{value:20,children:"20"}),(0,d.jsx)("option",{value:50,children:"50"})]}),(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("button",{onClick:()=>{t({category:r,minPrice:m,maxPrice:p,sort:v,limit:x})},className:o,children:"Apply"}),(0,d.jsx)("button",{onClick:()=>{u(""),h(""),_(""),g("createdAt:desc"),f(10),t({category:"",minPrice:"",maxPrice:"",sort:"createdAt:desc",limit:10})},className:o,children:"Reset"})]})]})]})}},1495:(e,t,r)=>{r.d(t,{h:()=>c});var n,a=r(5043);const s=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}function l(e,t){let{title:r,titleId:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s);return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",ref:t,"aria-labelledby":l},c),r?a.createElement("title",{id:l},r):null,n||(n=a.createElement("path",{d:"M15 18l-6-6 6-6",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const c=a.forwardRef(l);r.p},2040:(e,t,r)=>{r.r(t),r.d(t,{default:()=>te});var n=r(2555),a=r(5043),s=r(3248),i=r(2532),l=r(7097),c=r(9240),o=r(827),d=r(1055);const u="FormItems_formContainer__qn7p6",m="FormItems_form__O4sOg",h="FormItems_formTitle__TE0EY",p="FormItems_formGroup__Umz3n",_="FormItems_label__thuye",v="FormItems_input__IQWRC",g="FormItems_textarea__ZlPmd",x="FormItems_button__sHSDC";var f=r(4113),j=r(7027),P=r(579);const b=function(e){var t,r;let{initialData:n={},mode:a="add",itemId:s,onSuccess:i}=e;const o=(0,l.n)({mutationFn:e=>"edit"===a?(0,c.ij)(e):(0,c.IP)(e),onSuccess:e=>{console.log("edit"===a?"Product edited successfully":"Product added successfully"),null===i||void 0===i||i(e)},onError:e=>{console.error("Error adding/editing product:",e),j.oR.error("Operation failed: ".concat((null===e||void 0===e?void 0:e.message)||String(e)))}});return(0,P.jsxs)("div",{className:u,children:[(0,P.jsx)("h2",{className:h,children:"edit"===a?"Edit Product":"Add New Product"}),(0,P.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target),r={title:t.get("title"),price:Number(t.get("price"))||0,stock:Number(t.get("stock"))||0,category:t.get("category"),barcode:t.get("barcode"),description:t.get("description")||"",imageUrl:t.get("imageUrl")||""},n=localStorage.getItem("token");if("edit"===a){if(!s)return void j.oR.error("Missing item id for edit");o.mutate({token:n,itemId:s,itemData:r})}else o.mutate({token:n,itemData:r})},className:m,children:[(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"title",children:"Product Title"}),(0,P.jsx)("input",{className:v,id:"title",defaultValue:n.title||"",type:"text",name:"title",placeholder:"Enter product title",required:!0})]}),(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"price",children:"Price"}),(0,P.jsx)("input",{className:v,id:"price",defaultValue:null!==(t=n.price)&&void 0!==t?t:"",type:"number",name:"price",placeholder:"Enter price"})]}),(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"stock",children:"Stock"}),(0,P.jsx)("input",{className:v,id:"stock",defaultValue:null!==(r=n.stock)&&void 0!==r?r:"",type:"number",name:"stock",placeholder:"Enter stock quantity"})]}),(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"category",children:"Category"}),(0,P.jsx)("input",{className:v,id:"category",defaultValue:n.category||"",type:"text",name:"category",placeholder:"Enter category"})]}),(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"barcode",children:"Barcode"}),(0,P.jsx)("input",{className:v,id:"barcode",defaultValue:n.barcode||"",type:"text",name:"barcode",placeholder:"Enter barcode"})]}),(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"imageUrl",children:"Image URL"}),(0,P.jsx)("input",{className:v,id:"imageUrl",defaultValue:n.imageUrl||"",type:"text",name:"imageUrl",placeholder:"Enter image URL"})]}),(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)("label",{className:_,htmlFor:"description",children:"Description"}),(0,P.jsx)("textarea",{className:g,id:"description",defaultValue:n.description||"",name:"description",placeholder:"Enter product description",rows:4})]}),(0,P.jsx)("button",{className:x,type:"submit",disabled:o.isLoading,children:o.isLoading?(0,P.jsx)(f.A,{size:16}):"edit"===a?"Save Changes":"Add Product"})]})]})};var y=r(6843);const N="AdminProducts_container__dLHup",w="AdminProducts_header__I0yLJ",A="AdminProducts_title__c0jVH",k="AdminProducts_controls__Y5Aj2",O="AdminProducts_stats__EwrBG",E="AdminProducts_productsGrid__Ch7Lo",S="AdminProducts_productCard__OxPH6",C="AdminProducts_cardHeader__eGzuU",I="AdminProducts_productImage__He7Ht",F="AdminProducts_productInfo__k2QwE",L="AdminProducts_productName__7h5ri",B="AdminProducts_price__xEYJF",D="AdminProducts_cardBody__--0JB",V="AdminProducts_description__fZW8s",U="AdminProducts_meta__8-+W1",W="AdminProducts_category__wuUxf",H="AdminProducts_stock__WT+D7",R="AdminProducts_cardActions__z0Ne8",Q="AdminProducts_editBtn__oVpQn",T="AdminProducts_deleteBtn__2l2rD",q="AdminProducts_modalOverlay__czAap",M="AdminProducts_modal__n97KQ",G="AdminProducts_modalHeader__ipA+m",z="AdminProducts_closeBtn__kTw0a",J="AdminProducts_modalContent__P6vyY",Y="AdminProducts_loaderContainer__ifbHr",X="AdminProducts_error__cw1-Z",Z="AdminProducts_emptyState__Z+p3e",K="AdminProducts_paginationContainer__6g-Nw";var $=r(285);const ee=function(){var e,t,r,u,m;const h=(0,s.jE)(),[p,_]=a.useState(null),[v,g]=a.useState(null),[x,ee]=a.useState(!1),[te,re]=a.useState({page:1,limit:10,search:"",category:"",minPrice:"",maxPrice:"",sort:"createdAt:desc"}),ne=a.useCallback(e=>{re(t=>(0,n.A)((0,n.A)({},t),{},{search:e,page:1}))},[]),ae=a.useCallback(e=>{re(t=>(0,n.A)((0,n.A)((0,n.A)({},t),e),{},{page:1}))},[]),se=a.useCallback(e=>{re(t=>(0,n.A)((0,n.A)({},t),{},{page:e}))},[]),{data:ie,error:le,isLoading:ce}=(0,i.I)({queryKey:["adminProducts",te],queryFn:()=>(0,c.Sd)(te),keepPreviousData:!0}),oe=(0,l.n)({mutationFn:c.LD,onSuccess:()=>{j.oR.success("Item deleted successfully"),h.invalidateQueries(["adminProducts"])},onError:e=>{j.oR.error("Delete failed: ".concat(e.message))}});if(ce)return(0,P.jsx)("div",{className:Y,children:(0,P.jsx)(f.A,{center:!0})});if(le)return(0,P.jsxs)("div",{className:X,children:["Error: ",le.message]});const de=()=>{_(null),g(null),ee(!1)},ue=Array.isArray(null===ie||void 0===ie?void 0:ie.products)?ie.products:Array.isArray(ie)?ie:[],me=Math.ceil((null!==(e=null===ie||void 0===ie?void 0:ie.total)&&void 0!==e?e:ue.length)/(te.limit||1)),he=(null!==(t=null!==(r=null===ie||void 0===ie?void 0:ie.totalPages)&&void 0!==r?r:null===ie||void 0===ie?void 0:ie.pages)&&void 0!==t?t:me)||1;return(0,P.jsxs)("div",{className:N,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(b,{onSuccess:()=>{h.invalidateQueries(["adminProducts"])}}),(0,P.jsxs)("div",{className:O,children:["Total products: ",null!==(u=null!==(m=null===ie||void 0===ie?void 0:ie.total)&&void 0!==m?m:null===ie||void 0===ie?void 0:ie.count)&&void 0!==u?u:ue.length]})]}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("h1",{className:A,children:"Product Management"}),(0,P.jsxs)("div",{className:k,children:[(0,P.jsx)(o.A,{initialValue:te.search,onSearch:ne}),(0,P.jsx)(d.A,{onFilterChange:ae,autoApply:!0})]})]}),(0,P.jsx)("div",{className:E,children:0===ue.length?(0,P.jsx)("div",{className:Z,children:"No products found"}):ue.map(e=>{var t;return(0,P.jsxs)("div",{className:S,children:[(0,P.jsxs)("div",{className:C,children:[(0,P.jsx)("img",{src:e.image||$,alt:e.title,className:I}),(0,P.jsxs)("div",{className:F,children:[(0,P.jsx)("h3",{className:L,children:e.title}),(0,P.jsxs)("div",{className:B,children:["$",e.price]})]})]}),(0,P.jsxs)("div",{className:D,children:[(0,P.jsx)("p",{className:V,children:e.description||"No description available"}),(0,P.jsxs)("div",{className:U,children:[(0,P.jsx)("span",{className:W,children:e.category||"\u2014"}),(0,P.jsxs)("span",{className:H,children:["Stock: ",null!==(t=e.stock)&&void 0!==t?t:"0"]})]})]}),(0,P.jsxs)("div",{className:R,children:[(0,P.jsx)("button",{className:Q,onClick:()=>(e=>{_(e._id),g({title:e.title,price:e.price,stock:e.stock,category:e.category,barcode:e.barcode,description:e.description,imageUrl:e.imageUrl}),ee(!0)})(e),children:"Edit"}),(0,P.jsx)("button",{className:T,onClick:()=>{return t=e._id,void(window.confirm("Are you sure you want to delete this product?")&&oe.mutate({token:localStorage.getItem("token"),itemId:t}));var t},children:"Delete"})]}),p===e._id&&x&&(0,P.jsx)("div",{className:q,children:(0,P.jsxs)("div",{className:M,children:[(0,P.jsxs)("div",{className:G,children:[(0,P.jsx)("h2",{children:"Edit Product"}),(0,P.jsx)("button",{className:z,onClick:de,children:"\xd7"})]}),(0,P.jsx)("div",{className:J,children:(0,P.jsx)(b,{mode:"edit",itemId:p,initialData:v,onSuccess:()=>{h.invalidateQueries(["adminProducts"]),de()}})})]})})]},e._id)})}),(0,P.jsx)("div",{className:K,children:(0,P.jsx)(y.A,{page:te.page,totalPages:he,onChange:se})})]})};const te=function(){return(0,P.jsx)("div",{children:(0,P.jsx)(ee,{})})}},2780:(e,t,r)=>{r.d(t,{h:()=>o});var n,a,s=r(5043);const i=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(null,arguments)}function c(e,t){let{title:r,titleId:c}=e,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",ref:t,"aria-labelledby":c},o),r?s.createElement("title",{id:c},r):null,n||(n=s.createElement("circle",{cx:11,cy:11,r:8,strokeWidth:2})),a||(a=s.createElement("path",{d:"m21 21-4.35-4.35",strokeWidth:2,strokeLinecap:"round"})))}const o=s.forwardRef(c);r.p},4098:(e,t,r)=>{r.d(t,{h:()=>c});var n,a=r(5043);const s=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}function l(e,t){let{title:r,titleId:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s);return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",ref:t,"aria-labelledby":l},c),r?a.createElement("title",{id:l},r):null,n||(n=a.createElement("path",{d:"M9 18l6-6-6-6",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const c=a.forwardRef(l);r.p},6843:(e,t,r)=>{r.d(t,{A:()=>h});const n="Pagination_pagination__v-Veq",a="Pagination_button__WHqfV",s="Pagination_prevButton__roXoj",i="Pagination_nextButton__LLYWO",l="Pagination_pageInfo__TQQyw",c="Pagination_currentPage__8urv-",o="Pagination_totalPages__o4Dl+";var d=r(1495),u=r(4098),m=r(579);const h=function(e){let{page:t,totalPages:r,onChange:h}=e;if(r<=1)return null;const p=t>1,_=t<r;return(0,m.jsxs)("div",{className:n,children:[(0,m.jsxs)("button",{disabled:!p,onClick:()=>h(t-1),className:"".concat(a," ").concat(s),children:[(0,m.jsx)(d.h,{width:16,height:16}),"Previous"]}),(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)("span",{className:c,children:t}),(0,m.jsxs)("span",{className:o,children:["of ",r]})]}),(0,m.jsxs)("button",{disabled:!_,onClick:()=>h(t+1),className:"".concat(a," ").concat(i),children:["Next",(0,m.jsx)(u.h,{width:16,height:16})]})]})}},7399:(e,t,r)=>{r.d(t,{h:()=>d});var n,a,s,i=r(5043);const l=["title","titleId"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(null,arguments)}function o(e,t){let{title:r,titleId:o}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l);return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",ref:t,"aria-labelledby":o},d),r?i.createElement("title",{id:o},r):null,n||(n=i.createElement("circle",{cx:12,cy:12,r:10,strokeWidth:2})),a||(a=i.createElement("path",{d:"m15 9-6 6",strokeWidth:2,strokeLinecap:"round"})),s||(s=i.createElement("path",{d:"m9 9 6 6",strokeWidth:2,strokeLinecap:"round"})))}const d=i.forwardRef(o);r.p}}]);
//# sourceMappingURL=40.2a0e5d69.chunk.js.map