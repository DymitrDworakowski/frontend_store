"use strict";(self.webpackChunkfrontend_store=self.webpackChunkfrontend_store||[]).push([[647],{678:(e,t,r)=>{r.d(t,{h:()=>c});var a,i,l,n=r(5043);const s=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(null,arguments)}function d(e,t){let{title:r,titleId:d}=e,c=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,s);return n.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",ref:t,"aria-labelledby":d},c),r?n.createElement("title",{id:d},r):null,a||(a=n.createElement("path",{d:"M3 6h18",strokeWidth:2,strokeLinecap:"round"})),i||(i=n.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",strokeWidth:2})),l||(l=n.createElement("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",strokeWidth:2})))}const c=n.forwardRef(d);r.p},1647:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Q});var a=r(2532),i=r(1945),l=r(3248),n=r(7097),s=r(4113);const o="Cart_container__REhKU",d="Cart_header__8RIAX",c="Cart_title__ZFhX2",u="Cart_itemCount__1Pzy8",h="Cart_cartContent__FQ+Kh",v="Cart_itemsList__O-ZRV",_="Cart_cartItem__atC9V",m="Cart_itemImage__e5O+9",p="Cart_image__DSpNO",x="Cart_imagePlaceholder__Ggr9-",j="Cart_itemDetails__T2wKH",f="Cart_productTitle__56ToV",g="Cart_productCategory__2FHb9",C="Cart_priceQuantity__5DEYw",y="Cart_price__ai9FG",N="Cart_quantity__nEL0d",b="Cart_itemTotal__E9ffU",w="Cart_removeButton__Soh+C",k="Cart_cartSummary__tPkbA",O="Cart_summaryRow__f9812",E="Cart_total__cNQZY",I="Cart_summaryDivider__e3iZk",P="Cart_checkoutButton__9dwtz",T="Cart_emptyCart__rfejO",L="Cart_emptyCartIcon__g+p8P",S="Cart_emptyCartTitle__ZBZBG",F="Cart_emptyCartText__ghsT3",q="Cart_loadingContainer__LqgUh",W="Cart_loadingText__K4M+y",B="Cart_errorContainer__g8kLU",R="Cart_errorTitle__ULsk5",A="Cart_errorMessage__C9Bkq";var M=r(6767),Z=r(678),K=r(579);const Q=function(){var e,t;const r=localStorage.getItem("token"),{data:Q,isLoading:U,error:V}=(0,a.I)({queryKey:["cart",r],queryFn:()=>(0,i.je)(r),enabled:!!r}),$=(0,l.jE)(),z=(0,n.n)({mutationFn:i.dt,onSuccess:()=>{$.invalidateQueries(["cart",r])}});if(U)return(0,K.jsxs)("div",{className:q,children:[(0,K.jsx)(s.A,{size:32}),(0,K.jsx)("p",{className:W,children:"Loading your cart..."})]});if(V)return(0,K.jsxs)("div",{className:B,children:[(0,K.jsx)("h2",{className:R,children:"Error"}),(0,K.jsxs)("p",{className:A,children:["Failed to load cart: ",V.message]})]});const D=null!==(e=null===Q||void 0===Q?void 0:Q.reduce((e,t)=>{var r;return e+(null!==(r=null===t||void 0===t?void 0:t.quantity)&&void 0!==r?r:0)},0))&&void 0!==e?e:0,H=null!==(t=null===Q||void 0===Q?void 0:Q.reduce((e,t)=>{var r,a,i;return e+(null!==(r=null===t||void 0===t||null===(a=t.product)||void 0===a?void 0:a.price)&&void 0!==r?r:0)*(null!==(i=null===t||void 0===t?void 0:t.quantity)&&void 0!==i?i:0)},0))&&void 0!==t?t:0;return(0,K.jsxs)("div",{className:o,children:[(0,K.jsxs)("div",{className:d,children:[(0,K.jsx)("h2",{className:c,children:"Your Shopping Cart"}),Q&&Q.length>0&&(0,K.jsxs)("span",{className:u,children:[D," item",1!==D?"s":""]})]}),Q&&Q.length>0?(0,K.jsxs)("div",{className:h,children:[(0,K.jsx)("div",{className:v,children:Q.map(e=>{var t,a,i,l,n,o,d,c,u,h,v,k,O;return(0,K.jsxs)("div",{className:_,children:[(0,K.jsx)("div",{className:m,children:null!==(l=e.product)&&void 0!==l&&l.image?(0,K.jsx)("img",{src:null===(n=e.product)||void 0===n?void 0:n.image,alt:(null===(o=e.product)||void 0===o?void 0:o.title)||"Product image",className:p}):(0,K.jsx)("div",{className:x,children:(0,K.jsx)(M.h,{width:40,height:40})})}),(0,K.jsxs)("div",{className:j,children:[(0,K.jsx)("h3",{className:f,children:(null===(d=e.product)||void 0===d?void 0:d.title)||"No Title"}),(0,K.jsx)("p",{className:g,children:(null===(c=e.product)||void 0===c?void 0:c.category)||"\u2014"}),(0,K.jsxs)("div",{className:C,children:[(0,K.jsx)("span",{className:y,children:"number"===typeof(null===e||void 0===e||null===(u=e.product)||void 0===u?void 0:u.price)?"$".concat(e.product.price):"\u2014"}),(0,K.jsxs)("span",{className:N,children:["Qty: ",null!==(h=null===e||void 0===e?void 0:e.quantity)&&void 0!==h?h:0]})]}),(0,K.jsxs)("p",{className:b,children:["Total:"," ",(0,K.jsxs)("strong",{children:["$",((null!==(v=null===e||void 0===e||null===(k=e.product)||void 0===k?void 0:k.price)&&void 0!==v?v:0)*(null!==(O=null===e||void 0===e?void 0:e.quantity)&&void 0!==O?O:0)).toFixed(2)]})]})]}),(0,K.jsx)("button",{onClick:()=>{var t,a,i,l;return l=null!==(t=null!==(a=null===(i=e.product)||void 0===i?void 0:i._id)&&void 0!==a?a:e.productId)&&void 0!==t?t:e._id,void z.mutate({token:r,productId:l})},className:w,disabled:z.isLoading,"aria-label":"Remove from cart",children:z.isLoading?(0,K.jsx)(s.A,{size:16}):(0,K.jsx)(Z.h,{width:18,height:18})})]},null!==(t=null!==(a=e._id)&&void 0!==a?a:null===(i=e.product)||void 0===i?void 0:i._id)&&void 0!==t?t:e.productId)})}),(0,K.jsxs)("div",{className:k,children:[(0,K.jsxs)("div",{className:O,children:[(0,K.jsx)("span",{children:"Total Items:"}),(0,K.jsx)("span",{children:D})]}),(0,K.jsxs)("div",{className:O,children:[(0,K.jsx)("span",{children:"Subtotal:"}),(0,K.jsxs)("span",{children:["$",H.toFixed(2)]})]}),(0,K.jsxs)("div",{className:O,children:[(0,K.jsx)("span",{children:"Shipping:"}),(0,K.jsx)("span",{children:H>100?"Free":"$5.99"})]}),(0,K.jsx)("div",{className:I}),(0,K.jsxs)("div",{className:"".concat(O," ").concat(E),children:[(0,K.jsx)("span",{children:"Total Amount:"}),(0,K.jsxs)("span",{children:["$",H.toFixed(2)]})]}),(0,K.jsx)("button",{className:P,children:"Proceed to Checkout"})]})]}):(0,K.jsxs)("div",{className:T,children:[(0,K.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:L,children:[(0,K.jsx)("circle",{cx:"8",cy:"21",r:"1",strokeWidth:"2"}),(0,K.jsx)("circle",{cx:"19",cy:"21",r:"1",strokeWidth:"2"}),(0,K.jsx)("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",strokeWidth:"2"})]}),(0,K.jsx)("h3",{className:S,children:"Your cart is empty"}),(0,K.jsx)("p",{className:F,children:"Add some products to get started"})]})]})}},6767:(e,t,r)=>{r.d(t,{h:()=>c});var a,i,l,n=r(5043);const s=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(null,arguments)}function d(e,t){let{title:r,titleId:d}=e,c=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,s);return n.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",ref:t,"aria-labelledby":d},c),r?n.createElement("title",{id:d},r):null,a||(a=n.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,strokeWidth:2})),i||(i=n.createElement("circle",{cx:8.5,cy:8.5,r:1.5,strokeWidth:2})),l||(l=n.createElement("path",{d:"m21 15-5-5L5 21",strokeWidth:2,strokeLinecap:"round"})))}const c=n.forwardRef(d);r.p}}]);
//# sourceMappingURL=647.c3013f78.chunk.js.map