{"version":3,"file":"static/js/363.d0575f36.chunk.js","mappings":"sNA8FA,QAvFA,WACE,MAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,GAAY,CAC3BC,WAAYC,EAAAA,GACZC,UAAYC,IACVC,aAAaC,QAAQ,QAASF,EAAKG,OACnC,IAAK,IAADC,EACFC,OAAOC,cACL,IAAIC,YAAY,aAAc,CAC5BC,OAAQ,CAAEC,KAAe,QAAXL,EAAEJ,EAAKS,YAAI,IAAAL,EAAAA,EAAI,KAAMD,MAAOH,EAAKG,SAGrD,CAAE,MAAAO,GAAO,CACTC,EAAAA,GAAMC,QAAQ,oBACdnB,EAAS,MAEXoB,QAAUC,IACRH,EAAAA,GAAMG,MAAM,iBAADC,OAAkBD,EAAME,aAgBvC,OACEC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAAA,EAAMC,UAAUJ,SAAC,WAChCC,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAAA,EAAME,gBAAgBL,SAAC,8CAGrCD,EAAAA,EAAAA,MAAA,QAAMO,SAlBWC,UACnBC,EAAEC,iBACF,MAAMC,EAAOF,EAAEG,OACTC,EAAc,CAClBC,SAAUH,EAAKG,SAASC,MACxBC,MAAOL,EAAKK,MAAMD,MAClBE,SAAUN,EAAKM,SAASF,OAG1BrC,EAASwC,OAAOL,IASgBV,UAAWC,EAAAA,EAAMO,KAAKV,SAAA,EAClDD,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAAA,EAAMe,UAAUlB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,SAAOkB,QAAQ,WAAWjB,UAAWC,EAAAA,EAAMiB,MAAMpB,SAAC,eAGlDC,EAAAA,EAAAA,KAAA,SACEoB,KAAK,OACLC,GAAG,WACHC,KAAK,WACLC,YAAY,sBACZC,UAAQ,EACRvB,UAAWC,EAAAA,EAAMuB,YAGrB3B,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAAA,EAAMe,UAAUlB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,SAAOkB,QAAQ,QAAQjB,UAAWC,EAAAA,EAAMiB,MAAMpB,SAAC,YAG/CC,EAAAA,EAAAA,KAAA,SACEoB,KAAK,QACLC,GAAG,QACHC,KAAK,QACLC,YAAY,mBACZC,UAAQ,EACRvB,UAAWC,EAAAA,EAAMuB,YAGrB3B,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAAA,EAAMe,UAAUlB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,SAAOkB,QAAQ,WAAWjB,UAAWC,EAAAA,EAAMiB,MAAMpB,SAAC,eAGlDC,EAAAA,EAAAA,KAAA,SACEoB,KAAK,WACLC,GAAG,WACHC,KAAK,WACLC,YAAY,sBACZC,UAAQ,EACRvB,UAAWC,EAAAA,EAAMuB,YAGrBzB,EAAAA,EAAAA,KAAA,UAAQoB,KAAK,SAASnB,UAAWC,EAAAA,EAAMwB,OAAO3B,SAC3CvB,EAASmD,WAAY3B,EAAAA,EAAAA,KAAC4B,EAAAA,EAAM,CAACC,KAAM,KAAS,eAKvD,ECpFA,QAPA,WACE,OACE7B,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAC8B,EAAS,KAGhB,C","sources":["components/LoginForm.jsx","pages/Login.jsx"],"sourcesContent":["import { useMutation } from \"@tanstack/react-query\";\r\nimport { adminLogin } from \"../api/admin\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport style from \"./LoginForm.module.css\";\r\nimport Loader from \"./Loader\";\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction LoginForm() {\r\n  const navigate = useNavigate();\r\n  const mutation = useMutation({\r\n    mutationFn: adminLogin,\r\n    onSuccess: (data) => {\r\n      localStorage.setItem(\"token\", data.token);\r\n      try {\r\n        window.dispatchEvent(\r\n          new CustomEvent(\"authChange\", {\r\n            detail: { user: data.user ?? null, token: data.token },\r\n          })\r\n        );\r\n      } catch {}\r\n      toast.success('Login successful');\r\n      navigate(\"/\");\r\n    },\r\n    onError: (error) => {\r\n      toast.error(`Login failed: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const credentials = {\r\n      username: form.username.value,\r\n      email: form.email.value,\r\n      password: form.password.value,\r\n    };\r\n\r\n    mutation.mutate(credentials);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className={style.formTitle}>Login</h2>\r\n      <p className={style.formDescription}>\r\n        Please enter your credentials to log in.\r\n      </p>\r\n      <form onSubmit={handleSubmit} className={style.form}>\r\n        <div className={style.formGroup}>\r\n          <label htmlFor=\"username\" className={style.label}>\r\n            Username:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            placeholder=\"Enter your username\"\r\n            required\r\n            className={style.input}\r\n          />\r\n        </div>\r\n        <div className={style.formGroup}>\r\n          <label htmlFor=\"email\" className={style.label}>\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            required\r\n            className={style.input}\r\n          />\r\n        </div>\r\n        <div className={style.formGroup}>\r\n          <label htmlFor=\"password\" className={style.label}>\r\n            Password:\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Enter your password\"\r\n            required\r\n            className={style.input}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className={style.button}>\r\n          {mutation.isLoading ? <Loader size={16} /> : \"Login\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n","import LoginForm from '../components/LoginForm';\r\nfunction Login() {\r\n  return (\r\n    <div>\r\n      <LoginForm />\r\n    </div>\r\n  );\r\n}\r\nexport default Login;"],"names":["navigate","useNavigate","mutation","useMutation","mutationFn","adminLogin","onSuccess","data","localStorage","setItem","token","_data$user","window","dispatchEvent","CustomEvent","detail","user","_unused","toast","success","onError","error","concat","message","_jsxs","children","_jsx","className","style","formTitle","formDescription","onSubmit","async","e","preventDefault","form","target","credentials","username","value","email","password","mutate","formGroup","htmlFor","label","type","id","name","placeholder","required","input","button","isLoading","Loader","size","LoginForm"],"sourceRoot":""}